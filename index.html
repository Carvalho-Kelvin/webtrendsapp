<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <base href="/webtrendsapp/">
  <title>Habit Tracker - Sign In</title>
  <link rel="stylesheet" href="style/style.css">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/x-icon" href="icons/favicon.ico">
</head>
<body>
  <header>
    <h1>Habit Tracker</h1>
  </header>
  <main>
    <!-- Existing Google sign-in button (if any) -->
    <button id="signIn">Sign In with Google</button>
    <!-- New biometric buttons -->
    <button id="registerBiometric">Register Face</button>
    <button id="authenticateBiometric">Sign In with Face</button>
  </main>
  <script type="module" src="scripts/signIn.js"></script>
  <script type="module">
    import { registerBiometric, authenticateBiometric } from "biometric.js";
    
    const registerBtn = document.getElementById('registerBiometric');
    const authBtn = document.getElementById('authenticateBiometric');
    
    registerBtn.addEventListener('click', async () => {
      await registerBiometric();
      alert("Biometric registration attempted. Check console for details.");
    });
    
    authBtn.addEventListener('click', async () => {
      const success = await authenticateBiometric();
      if (success) {
        // On successful biometric authentication, redirect to habits page.
        window.location.href = "habits.html";
      } else {
        alert("Biometric authentication failed.");
      }
    });
  </script>
</body>
</html>
